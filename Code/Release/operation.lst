STMicroelectronics list file postprocessor v1.01   (C)2009-2019   Wed Jun 19 15:36:22 2019
Page 1  Assembler
                                               e:\stm8s\elevator\operation.asm

   1                         stm8/     
   2                         
   0  000000                                 #include "Operation.inc"
   1                         
   2                         
   3  000000 U                               #IFDEF   __OPERATION_ 1
   6  000000                                 #define  __OPERATION_ 1
   0  000000                                 #include "Variable.inc"
   1                         
   2  000000 U                               #IFDEF   __VARIABLE_ 1
   4                                   
   5  000000                                 #define  MAX_FLOOR 8
   6                                   
   7  000000                                 #define  REQ_NULL 0
   8  000000                                 #define  REQ_DOWN 00000001B
   9  000000                                 #define  REQ_UP 00000010B
  10  000000                                 #define  REQ_UP_DOWN 0000011B
  11                                   
  12  000000                                 #define  False 0
  13  000000                                 #define  True 1
  14                                   
  15                         
  16  000000                                 #define  TARGET_QUEUE_TOP 5FFH
  17                         
  18  000000                                 #define  STATUS_MOV 1
  19  000000                                 #define  STATUS_IDLE 0
  20  000000                                 #define  STATUS_OPEN 2
  21  000000                                 #define  STATUS_CLOSE 3
  22                                                          ; #define STATUS_DOWN 00000001B
  23                                                          ; #define STATUS_UP 00000010B
  24                                                          ; #define STATUS_STAY 0000011B
  25                         
  26  000000                                 #define  DIR_NULL 00000000B
  27  000000                                 #define  DIR_DOWN 00000001B
  28  000000                                 #define  DIR_UP 00000010B
  29                         
  30  000000                                 #define  INVALID_TARGET 0
  31                         
   0  000000                                 #include "STM8S105K4.inc"
   1                         ; STM8S105K4.inc
   2  000000 U                               #IFDEF   __INCLUDE_STM8S105K4_
   4  000000                                 #define  __INCLUDE_STM8S105K4_ 1
   0  000000                                 #include "STM8S105K.inc"
   1                         ; STM8S105K.inc
   2                         
   3                         ; Copyright (c) 2003-2012 STMicroelectronics
   4                         
   5  000000 U                               #ifdef   __STM8S105K__
   8  000000                                 #define  __STM8S105K__ 1
   9                         
  10                         ; STM8S105K
  11                         
  12                         
  13                         ; Port A
  14                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
  15                         
STMicroelectronics list file postprocessor v1.01   (C)2009-2019   Wed Jun 19 15:36:22 2019
Page 2  Assembler
                                               e:\stm8s\elevator\operation.asm

  16  000000                                 EXTERN   PA_ODR.w      ; Port A data output latch 
                                                                ;register
  17                         
  18  000000                                 EXTERN   PA_IDR.w      ; Port A input pin value 
                                                                ;register
  19                         
  20  000000                                 EXTERN   PA_DDR.w      ; Port A data direction 
                                                                ;register
  21                         
  22  000000                                 EXTERN   PA_CR1.w      ; Port A control register 1
  23                         
  24  000000                                 EXTERN   PA_CR2.w      ; Port A control register 2
  25                         
  26                         ; Port B
  27                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
  28                         
  29  000000                                 EXTERN   PB_ODR.w      ; Port B data output latch 
                                                                ;register
  30                         
  31  000000                                 EXTERN   PB_IDR.w      ; Port B input pin value 
                                                                ;register
  32                         
  33  000000                                 EXTERN   PB_DDR.w      ; Port B data direction 
                                                                ;register
  34                         
  35  000000                                 EXTERN   PB_CR1.w      ; Port B control register 1
  36                         
  37  000000                                 EXTERN   PB_CR2.w      ; Port B control register 2
  38                         
  39                         ; Port C
  40                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
  41                         
  42  000000                                 EXTERN   PC_ODR.w      ; Port C data output latch 
                                                                ;register
  43                         
  44  000000                                 EXTERN   PC_IDR.w      ; Port C input pin value 
                                                                ;register
  45                         
  46  000000                                 EXTERN   PC_DDR.w      ; Port C data direction 
                                                                ;register
  47                         
  48  000000                                 EXTERN   PC_CR1.w      ; Port C control register 1
  49                         
  50  000000                                 EXTERN   PC_CR2.w      ; Port C control register 2
  51                         
  52                         ; Port D
  53                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
  54                         
  55  000000                                 EXTERN   PD_ODR.w      ; Port D data output latch 
                                                                ;register
  56                         
  57  000000                                 EXTERN   PD_IDR.w      ; Port D input pin value 
                                                                ;register
  58                         
STMicroelectronics list file postprocessor v1.01   (C)2009-2019   Wed Jun 19 15:36:22 2019
Page 3  Assembler
                                               e:\stm8s\elevator\operation.asm

  59  000000                                 EXTERN   PD_DDR.w      ; Port D data direction 
                                                                ;register
  60                         
  61  000000                                 EXTERN   PD_CR1.w      ; Port D control register 1
  62                         
  63  000000                                 EXTERN   PD_CR2.w      ; Port D control register 2
  64                         
  65                         ; Port E
  66                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
  67                         
  68  000000                                 EXTERN   PE_ODR.w      ; Port E data output latch 
                                                                ;register
  69                         
  70  000000                                 EXTERN   PE_IDR.w      ; Port E input pin value 
                                                                ;register
  71                         
  72  000000                                 EXTERN   PE_DDR.w      ; Port E data direction 
                                                                ;register
  73                         
  74  000000                                 EXTERN   PE_CR1.w      ; Port E control register 1
  75                         
  76  000000                                 EXTERN   PE_CR2.w      ; Port E control register 2
  77                         
  78                         ; Port F
  79                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
  80                         
  81  000000                                 EXTERN   PF_ODR.w      ; Port F data output latch 
                                                                ;register
  82                         
  83  000000                                 EXTERN   PF_IDR.w      ; Port F input pin value 
                                                                ;register
  84                         
  85  000000                                 EXTERN   PF_DDR.w      ; Port F data direction 
                                                                ;register
  86                         
  87  000000                                 EXTERN   PF_CR1.w      ; Port F control register 1
  88                         
  89  000000                                 EXTERN   PF_CR2.w      ; Port F control register 2
  90                         
  91                         ; Flash
  92                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
  93                         
  94  000000                                 EXTERN   FLASH_CR1.w   ; Flash control register 1
  95                         
  96  000000                                 EXTERN   FLASH_CR2.w   ; Flash control register 2
  97                         
  98  000000                                 EXTERN   FLASH_NCR2.w  ; Flash complementary control 
                                                                ;register 2
  99                         
 100  000000                                 EXTERN   FLASH_FPR.w   ; Flash protection register
 101                         
 102  000000                                 EXTERN   FLASH_NFPR.w  ; Flash complementary protection
                                                                ; register
 103                         
STMicroelectronics list file postprocessor v1.01   (C)2009-2019   Wed Jun 19 15:36:22 2019
Page 4  Assembler
                                               e:\stm8s\elevator\operation.asm

 104  000000                                 EXTERN   FLASH_IAPSR.w  ; Flash in-application 
                                                                ;programming status register
 105                         
 106  000000                                 EXTERN   FLASH_PUKR.w  ; Flash Program memory 
                                                                ;unprotection register
 107                         
 108  000000                                 EXTERN   FLASH_DUKR.w  ; Data EEPROM unprotection 
                                                                ;register
 109                         
 110                         ; External Interrupt Control Register (ITC)
 111                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 112                         
 113  000000                                 EXTERN   EXTI_CR1.w    ; External interrupt control 
                                                                ;register 1
 114                         
 115  000000                                 EXTERN   EXTI_CR2.w    ; External interrupt control 
                                                                ;register 2
 116                         
 117                         ; Reset (RST)
 118                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 119                         
 120  000000                                 EXTERN   RST_SR.w      ; Reset status register 1
 121                         
 122                         ; Clock Control (CLK)
 123                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 124                         
 125  000000                                 EXTERN   CLK_ICKR.w    ; Internal clock control 
                                                                ;register
 126                         
 127  000000                                 EXTERN   CLK_ECKR.w    ; External clock control 
                                                                ;register
 128                         
 129  000000                                 EXTERN   CLK_CMSR.w    ; Clock master status register
 130                         
 131  000000                                 EXTERN   CLK_SWR.w     ; Clock master switch register
 132                         
 133  000000                                 EXTERN   CLK_SWCR.w    ; Clock switch control register
 134                         
 135  000000                                 EXTERN   CLK_CKDIVR.w  ; Clock divider register
 136                         
 137  000000                                 EXTERN   CLK_PCKENR1.w  ; Peripheral clock gating 
                                                                ;register 1
 138                         
 139  000000                                 EXTERN   CLK_CSSR.w    ; Clock security system 
                                                                ;register
 140                         
 141  000000                                 EXTERN   CLK_CCOR.w    ; Configurable clock control 
                                                                ;register
 142                         
 143  000000                                 EXTERN   CLK_PCKENR2.w  ; Peripheral clock gating 
                                                                ;register 2
 144                         
 145  000000                                 EXTERN   CLK_CANCCR.w  ; CAN clock control register
 146                         
STMicroelectronics list file postprocessor v1.01   (C)2009-2019   Wed Jun 19 15:36:22 2019
Page 5  Assembler
                                               e:\stm8s\elevator\operation.asm

 147  000000                                 EXTERN   CLK_HSITRIMR.w  ; HSI clock calibration trimming
                                                                ; register
 148                         
 149  000000                                 EXTERN   CLK_SWIMCCR.w  ; SWIM clock control register
 150                         
 151                         ; Window Watchdog (WWDG)
 152                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 153                         
 154  000000                                 EXTERN   WWDG_CR.w     ; WWDG Control Register
 155                         
 156  000000                                 EXTERN   WWDG_WR.w     ; WWDR Window Register
 157                         
 158                         ; Independent Watchdog (IWDG)
 159                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 160                         
 161  000000                                 EXTERN   IWDG_KR.w     ; IWDG Key Register
 162                         
 163  000000                                 EXTERN   IWDG_PR.w     ; IWDG Prescaler Register
 164                         
 165  000000                                 EXTERN   IWDG_RLR.w    ; IWDG Reload Register
 166                         
 167                         ; Auto Wake-Up (AWU)
 168                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 169                         
 170  000000                                 EXTERN   AWU_CSR.w     ; AWU Control/Status Register
 171                         
 172  000000                                 EXTERN   AWU_APR.w     ; AWU asynchronous prescaler 
                                                                ;buffer register
 173                         
 174  000000                                 EXTERN   AWU_TBR.w     ; AWU Timebase selection 
                                                                ;register
 175                         
 176                         ; Beeper (BEEP)
 177                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 178                         
 179  000000                                 EXTERN   BEEP_CSR.w    ; BEEP Control/Status Register
 180                         
 181                         ; Serial Peripheral Interface (SPI)
 182                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 183                         
 184  000000                                 EXTERN   SPI_CR1.w     ; SPI Control Register 1
 185                         
 186  000000                                 EXTERN   SPI_CR2.w     ; SPI Control Register 2
 187                         
 188  000000                                 EXTERN   SPI_ICR.w     ; SPI Interrupt Control 
                                                                ;Register
 189                         
 190  000000                                 EXTERN   SPI_SR.w      ; SPI Status Register
 191                         
 192  000000                                 EXTERN   SPI_DR.w      ; SPI Data Register
 193                         
 194  000000                                 EXTERN   SPI_CRCPR.w   ; SPI CRC Polynomial Register
STMicroelectronics list file postprocessor v1.01   (C)2009-2019   Wed Jun 19 15:36:22 2019
Page 6  Assembler
                                               e:\stm8s\elevator\operation.asm

 195                         
 196  000000                                 EXTERN   SPI_RXCRCR.w  ; SPI Rx CRC Register
 197                         
 198  000000                                 EXTERN   SPI_TXCRCR.w  ; SPI Tx CRC Register
 199                         
 200                         ; I2C Bus Interface (I2C)
 201                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 202                         
 203  000000                                 EXTERN   I2C_CR1.w     ; I2C control register 1
 204                         
 205  000000                                 EXTERN   I2C_CR2.w     ; I2C control register 2
 206                         
 207  000000                                 EXTERN   I2C_FREQR.w   ; I2C frequency register
 208                         
 209  000000                                 EXTERN   I2C_OARL.w    ; I2C Own address register low
 210                         
 211  000000                                 EXTERN   I2C_OARH.w    ; I2C Own address register high
 212                         
 213  000000                                 EXTERN   I2C_DR.w      ; I2C data register
 214                         
 215  000000                                 EXTERN   I2C_SR1.w     ; I2C status register 1
 216                         
 217  000000                                 EXTERN   I2C_SR2.w     ; I2C status register 2
 218                         
 219  000000                                 EXTERN   I2C_SR3.w     ; I2C status register 3
 220                         
 221  000000                                 EXTERN   I2C_ITR.w     ; I2C interrupt control 
                                                                ;register
 222                         
 223  000000                                 EXTERN   I2C_CCRL.w    ; I2C Clock control register 
                                                                ;low
 224                         
 225  000000                                 EXTERN   I2C_CCRH.w    ; I2C Clock control register 
                                                                ;high
 226                         
 227  000000                                 EXTERN   I2C_TRISER.w  ; I2C TRISE register
 228                         
 229  000000                                 EXTERN   I2C_PECR.w    ; I2C packet error checking 
                                                                ;register
 230                         
 231                         ; LIN Universal asynch. receiver transmitter (UART2)
 232                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 233                         
 234  000000                                 EXTERN   UART2_SR.w    ; UART2 Status Register
 235                         
 236  000000                                 EXTERN   UART2_DR.w    ; UART2 Data Register
 237                         
 238  000000                                 EXTERN   UART2_BRR1.w  ; UART2 Baud Rate Register 1
 239                         
 240  000000                                 EXTERN   UART2_BRR2.w  ; UART2 Baud Rate Register 2
 241                         
 242  000000                                 EXTERN   UART2_CR1.w   ; UART2 Control Register 1
 243                         
 244  000000                                 EXTERN   UART2_CR2.w   ; UART2 Control Register 2
 245                         
STMicroelectronics list file postprocessor v1.01   (C)2009-2019   Wed Jun 19 15:36:22 2019
Page 7  Assembler
                                               e:\stm8s\elevator\operation.asm

 246  000000                                 EXTERN   UART2_CR3.w   ; UART2 Control Register 3
 247                         
 248  000000                                 EXTERN   UART2_CR4.w   ; UART2 Control Register 4
 249                         
 250  000000                                 EXTERN   UART2_CR5.w   ; UART2 Control Register 5
 251                         
 252  000000                                 EXTERN   UART2_CR6.w   ; UART2 Control Register 6
 253                         
 254  000000                                 EXTERN   UART2_GTR.w   ; UART2 Guard time Register
 255                         
 256  000000                                 EXTERN   UART2_PSCR.w  ; UART2 Prescaler Register
 257                         
 258                         ; 16-Bit Timer 1 (TIM1)
 259                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 260                         
 261  000000                                 EXTERN   TIM1_CR1.w    ; TIM1 Control register 1
 262                         
 263  000000                                 EXTERN   TIM1_CR2.w    ; TIM1 Control register 2
 264                         
 265  000000                                 EXTERN   TIM1_SMCR.w   ; TIM1 Slave Mode Control 
                                                                ;register
 266                         
 267  000000                                 EXTERN   TIM1_ETR.w    ; TIM1 external trigger 
                                                                ;register
 268                         
 269  000000                                 EXTERN   TIM1_IER.w    ; TIM1 Interrupt enable 
                                                                ;register
 270                         
 271  000000                                 EXTERN   TIM1_SR1.w    ; TIM1 Status register 1
 272                         
 273  000000                                 EXTERN   TIM1_SR2.w    ; TIM1 Status register 2
 274                         
 275  000000                                 EXTERN   TIM1_EGR.w    ; TIM1 Event Generation 
                                                                ;register
 276                         
 277  000000                                 EXTERN   TIM1_CCMR1.w  ; TIM1 Capture/Compare mode 
                                                                ;register 1
 278                         
 279  000000                                 EXTERN   TIM1_CCMR2.w  ; TIM1 Capture/Compare mode 
                                                                ;register 2
 280                         
 281  000000                                 EXTERN   TIM1_CCMR3.w  ; TIM1 Capture/Compare mode 
                                                                ;register 3
 282                         
 283  000000                                 EXTERN   TIM1_CCMR4.w  ; TIM1 Capture/Compare mode 
                                                                ;register 4
 284                         
 285  000000                                 EXTERN   TIM1_CCER1.w  ; TIM1 Capture/Compare enable 
                                                                ;register 1
 286                         
 287  000000                                 EXTERN   TIM1_CCER2.w  ; TIM1 Capture/Compare enable 
                                                                ;register 2
 288                         
 289  000000                                 EXTERN   TIM1_CNTRH.w  ; Data bits High
 290                         
 291  000000                                 EXTERN   TIM1_CNTRL.w  ; Data bits Low
STMicroelectronics list file postprocessor v1.01   (C)2009-2019   Wed Jun 19 15:36:22 2019
Page 8  Assembler
                                               e:\stm8s\elevator\operation.asm

 292                         
 293  000000                                 EXTERN   TIM1_PSCRH.w  ; Data bits High
 294                         
 295  000000                                 EXTERN   TIM1_PSCRL.w  ; Data bits Low
 296                         
 297  000000                                 EXTERN   TIM1_ARRH.w   ; Data bits High
 298                         
 299  000000                                 EXTERN   TIM1_ARRL.w   ; Data bits Low
 300                         
 301  000000                                 EXTERN   TIM1_RCR.w    ; TIM1 Repetition counter 
                                                                ;register
 302                         
 303  000000                                 EXTERN   TIM1_CCR1H.w  ; Data bits High
 304                         
 305  000000                                 EXTERN   TIM1_CCR1L.w  ; Data bits Low
 306                         
 307  000000                                 EXTERN   TIM1_CCR2H.w  ; Data bits High
 308                         
 309  000000                                 EXTERN   TIM1_CCR2L.w  ; Data bits Low
 310                         
 311  000000                                 EXTERN   TIM1_CCR3H.w  ; Data bits High
 312                         
 313  000000                                 EXTERN   TIM1_CCR3L.w  ; Data bits Low
 314                         
 315  000000                                 EXTERN   TIM1_CCR4H.w  ; Data bits High
 316                         
 317  000000                                 EXTERN   TIM1_CCR4L.w  ; Data bits Low
 318                         
 319  000000                                 EXTERN   TIM1_BKR.w    ; TIM1 Break register
 320                         
 321  000000                                 EXTERN   TIM1_DTR.w    ; TIM1 Dead-time register
 322                         
 323  000000                                 EXTERN   TIM1_OISR.w   ; TIM1 Output idle state 
                                                                ;register
 324                         
 325                         ; 16-Bit Timer 2 (TIM2)
 326                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 327                         
 328  000000                                 EXTERN   TIM2_CR1.w    ; TIM2 Control register 1
 329                         
 330  000000                                 EXTERN   TIM2_IER.w    ; TIM2 Interrupt enable 
                                                                ;register
 331                         
 332  000000                                 EXTERN   TIM2_SR1.w    ; TIM2 Status register 1
 333                         
 334  000000                                 EXTERN   TIM2_SR2.w    ; TIM2 Status register 2
 335                         
 336  000000                                 EXTERN   TIM2_EGR.w    ; TIM2 Event Generation 
                                                                ;register
 337                         
 338  000000                                 EXTERN   TIM2_CCMR1.w  ; TIM2 Capture/Compare mode 
                                                                ;register 1
 339                         
 340  000000                                 EXTERN   TIM2_CCMR2.w  ; TIM2 Capture/Compare mode 
                                                                ;register 2
 341                         
STMicroelectronics list file postprocessor v1.01   (C)2009-2019   Wed Jun 19 15:36:22 2019
Page 9  Assembler
                                               e:\stm8s\elevator\operation.asm

 342  000000                                 EXTERN   TIM2_CCMR3.w  ; TIM2 Capture/Compare mode 
                                                                ;register 3
 343                         
 344  000000                                 EXTERN   TIM2_CCER1.w  ; TIM2 Capture/Compare enable 
                                                                ;register 1
 345                         
 346  000000                                 EXTERN   TIM2_CCER2.w  ; TIM2 Capture/Compare enable 
                                                                ;register 2
 347                         
 348  000000                                 EXTERN   TIM2_CNTRH.w  ; Data bits High
 349                         
 350  000000                                 EXTERN   TIM2_CNTRL.w  ; Data bits Low
 351                         
 352  000000                                 EXTERN   TIM2_PSCR.w   ; TIM2 Prescaler register
 353                         
 354  000000                                 EXTERN   TIM2_ARRH.w   ; Data bits High
 355                         
 356  000000                                 EXTERN   TIM2_ARRL.w   ; Data bits Low
 357                         
 358  000000                                 EXTERN   TIM2_CCR1H.w  ; Data bits High
 359                         
 360  000000                                 EXTERN   TIM2_CCR1L.w  ; Data bits Low
 361                         
 362  000000                                 EXTERN   TIM2_CCR2H.w  ; Data bits High
 363                         
 364  000000                                 EXTERN   TIM2_CCR2L.w  ; Data bits Low
 365                         
 366  000000                                 EXTERN   TIM2_CCR3H.w  ; Data bits High
 367                         
 368  000000                                 EXTERN   TIM2_CCR3L.w  ; Data bits Low
 369                         
 370                         ; 16-Bit Timer 3 (TIM3)
 371                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 372                         
 373  000000                                 EXTERN   TIM3_CR1.w    ; TIM3 Control register 1
 374                         
 375  000000                                 EXTERN   TIM3_IER.w    ; TIM3 Interrupt enable 
                                                                ;register
 376                         
 377  000000                                 EXTERN   TIM3_SR1.w    ; TIM3 Status register 1
 378                         
 379  000000                                 EXTERN   TIM3_SR2.w    ; TIM3 Status register 2
 380                         
 381  000000                                 EXTERN   TIM3_EGR.w    ; TIM3 Event Generation 
                                                                ;register
 382                         
 383  000000                                 EXTERN   TIM3_CCMR1.w  ; TIM3 Capture/Compare mode 
                                                                ;register 1
 384                         
 385  000000                                 EXTERN   TIM3_CCMR2.w  ; TIM3 Capture/Compare mode 
                                                                ;register 2
 386                         
 387  000000                                 EXTERN   TIM3_CCER1.w  ; TIM3 Capture/Compare enable 
                                                                ;register 1
 388                         
 389  000000                                 EXTERN   TIM3_CNTRH.w  ; Data bits High
STMicroelectronics list file postprocessor v1.01   (C)2009-2019   Wed Jun 19 15:36:22 2019
Page 10  Assembler
                                               e:\stm8s\elevator\operation.asm

 390                         
 391  000000                                 EXTERN   TIM3_CNTRL.w  ; Data bits Low
 392                         
 393  000000                                 EXTERN   TIM3_PSCR.w   ; TIM3 Prescaler register
 394                         
 395  000000                                 EXTERN   TIM3_ARRH.w   ; Data bits High
 396                         
 397  000000                                 EXTERN   TIM3_ARRL.w   ; Data bits Low
 398                         
 399  000000                                 EXTERN   TIM3_CCR1H.w  ; Data bits High
 400                         
 401  000000                                 EXTERN   TIM3_CCR1L.w  ; Data bits Low
 402                         
 403  000000                                 EXTERN   TIM3_CCR2H.w  ; Data bits High
 404                         
 405  000000                                 EXTERN   TIM3_CCR2L.w  ; Data bits Low
 406                         
 407                         ; 8-Bit  Timer 4 (TIM4)
 408                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 409                         
 410  000000                                 EXTERN   TIM4_CR1.w    ; TIM4 Control register 1
 411                         
 412  000000                                 EXTERN   TIM4_IER.w    ; TIM4 Interrupt enable 
                                                                ;register
 413                         
 414  000000                                 EXTERN   TIM4_SR.w     ; TIM4 Status register
 415                         
 416  000000                                 EXTERN   TIM4_EGR.w    ; TIM4 Event Generation 
                                                                ;register
 417                         
 418  000000                                 EXTERN   TIM4_CNTR.w   ; TIM4 Counter
 419                         
 420  000000                                 EXTERN   TIM4_PSCR.w   ; TIM4 Prescaler register
 421                         
 422  000000                                 EXTERN   TIM4_ARR.w    ; TIM4 Auto-reload register
 423                         
 424                         ; 10-Bit A/D Converter (ADC1)
 425                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 426                         
 427  000000                                 EXTERN   ADC_DB0RH.w   ; Data Buffer register 0 High
 428                         
 429  000000                                 EXTERN   ADC_DB0RL.w   ; Data Buffer register 0 Low
 430                         
 431  000000                                 EXTERN   ADC_DB1RH.w   ; Data Buffer register 1 High
 432                         
 433  000000                                 EXTERN   ADC_DB1RL.w   ; Data Buffer register 1 Low
 434                         
 435  000000                                 EXTERN   ADC_DB2RH.w   ; Data Buffer register 2 High
 436                         
 437  000000                                 EXTERN   ADC_DB2RL.w   ; Data Buffer register 2 Low
 438                         
 439  000000                                 EXTERN   ADC_DB3RH.w   ; Data Buffer register 3 High
 440                         
 441  000000                                 EXTERN   ADC_DB3RL.w   ; Data Buffer register 3 Low
 442                         
STMicroelectronics list file postprocessor v1.01   (C)2009-2019   Wed Jun 19 15:36:22 2019
Page 11  Assembler
                                               e:\stm8s\elevator\operation.asm

 443  000000                                 EXTERN   ADC_DB4RH.w   ; Data Buffer register 4 High
 444                         
 445  000000                                 EXTERN   ADC_DB4RL.w   ; Data Buffer register 4 Low
 446                         
 447  000000                                 EXTERN   ADC_DB5RH.w   ; Data Buffer register 5 High
 448                         
 449  000000                                 EXTERN   ADC_DB5RL.w   ; Data Buffer register 5 Low
 450                         
 451  000000                                 EXTERN   ADC_DB6RH.w   ; Data Buffer register 6 High
 452                         
 453  000000                                 EXTERN   ADC_DB6RL.w   ; Data Buffer register 6 Low
 454                         
 455  000000                                 EXTERN   ADC_DB7RH.w   ; Data Buffer register 7 High
 456                         
 457  000000                                 EXTERN   ADC_DB7RL.w   ; Data Buffer register 7 Low
 458                         
 459  000000                                 EXTERN   ADC_DB8RH.w   ; Data Buffer register 8 High
 460                         
 461  000000                                 EXTERN   ADC_DB8RL.w   ; Data Buffer register 8 Low
 462                         
 463  000000                                 EXTERN   ADC_DB9RH.w   ; Data Buffer register 9 High
 464                         
 465  000000                                 EXTERN   ADC_DB9RL.w   ; Data Buffer register 9 Low
 466                         
 467  000000                                 EXTERN   ADC_CSR.w     ; ADC Control/Status Register
 468                         
 469  000000                                 EXTERN   ADC_CR1.w     ; ADC Configuration Register 1
 470                         
 471  000000                                 EXTERN   ADC_CR2.w     ; ADC Configuration Register 2
 472                         
 473  000000                                 EXTERN   ADC_CR3.w     ; ADC Configuration Register 3
 474                         
 475  000000                                 EXTERN   ADC_DRH.w     ; Data bits High
 476                         
 477  000000                                 EXTERN   ADC_DRL.w     ; Data bits Low
 478                         
 479  000000                                 EXTERN   ADC_TDRH.w    ; Schmitt trigger disable High
 480                         
 481  000000                                 EXTERN   ADC_TDRL.w    ; Schmitt trigger disable Low
 482                         
 483  000000                                 EXTERN   ADC_HTRH.w    ; High Threshold Register High
 484                         
 485  000000                                 EXTERN   ADC_HTRL.w    ; High Threshold Register Low
 486                         
 487  000000                                 EXTERN   ADC_LTRH.w    ; Low Threshold Register High
 488                         
 489  000000                                 EXTERN   ADC_LTRL.w    ; Low Threshold Register Low
 490                         
 491  000000                                 EXTERN   ADC_AWSRH.w   ; Analog Watchdog Status 
                                                                ;register High
 492                         
 493  000000                                 EXTERN   ADC_AWSRL.w   ; Analog Watchdog Status 
                                                                ;register Low
 494                         
 495  000000                                 EXTERN   ADC_AWCRH.w   ; Analog Watchdog Control 
                                                                ;register High
 496                         
STMicroelectronics list file postprocessor v1.01   (C)2009-2019   Wed Jun 19 15:36:22 2019
Page 12  Assembler
                                               e:\stm8s\elevator\operation.asm

 497  000000                                 EXTERN   ADC_AWCRL.w   ; Analog Watchdog Control 
                                                                ;register Low
 498                         
 499                         ;  Global configuration register (CFG)
 500                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 501                         
 502  000000                                 EXTERN   CFG_GCR.w     ; CFG Global configuration 
                                                                ;register
 503                         
 504                         ; Interrupt Software Priority Register (ITC)
 505                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 506                         
 507  000000                                 EXTERN   ITC_SPR1.w    ; Interrupt Software priority 
                                                                ;register 1
 508                         
 509  000000                                 EXTERN   ITC_SPR2.w    ; Interrupt Software priority 
                                                                ;register 2
 510                         
 511  000000                                 EXTERN   ITC_SPR3.w    ; Interrupt Software priority 
                                                                ;register 3
 512                         
 513  000000                                 EXTERN   ITC_SPR4.w    ; Interrupt Software priority 
                                                                ;register 4
 514                         
 515  000000                                 EXTERN   ITC_SPR5.w    ; Interrupt Software priority 
                                                                ;register 5
 516                         
 517  000000                                 EXTERN   ITC_SPR6.w    ; Interrupt Software priority 
                                                                ;register 6
 518                         
 519  000000                                 EXTERN   ITC_SPR7.w    ; Interrupt Software priority 
                                                                ;register 7
 520                         
 521  000000                                 #endif                 ; __STM8S105K__
<END_OF_INCLUSION>
   6                                   
   7  000000                                 #ENDIF   
   8                         
   9                         
<END_OF_INCLUSION>
  33                         
  34                         
  35  000000                                 #define  MOVING_TIME 2
  36  000000                                 #define  CLOSE_TIME 10
  37  000000                                 #define  OPEN_TIME 10
  38                                                          ; #define BEEP_TIME 3
  39                         
  40                         
  41  000000                                 #ENDIF   
  42                                   
  43                         
  44  000000                                 extern   B_FLOOR.b
  45  000000                                 extern   B_STATUS.b
  46  000000                                 extern   B_DIRECTION.b
  47                         
  48  000000                                 extern   W_CUR_TARGET_PTR.b
  49  000000                                 extern   W_NEW_PTR.b
STMicroelectronics list file postprocessor v1.01   (C)2009-2019   Wed Jun 19 15:36:22 2019
Page 13  Assembler
                                               e:\stm8s\elevator\operation.asm

  50                         
  51  000000                                 extern   FLOOR_TOP.w
  52  000000                                 extern   FLOOR_BOTTOM.w
  53                                   
  54  000000                                 extern   TARGET_QUEUE_BOTTOM.w
  55                         
  56                         
  57  000000                                 extern   TEMP_TARGET_FLOOR_BUTTOM.b
  58  000000                                 extern   TEMP_TARGET_FLOOR_TOP.b
  59                         
  60                                   
  61                                   
  62  000000                                 extern   W_TIMER3_HANDLER.b
  63  000000                                 extern   B_TIMER3_INT_COUNTER.b
<END_OF_INCLUSION>
   8                         
   9                                   
  10  000000                                 #ENDIF   
  11                         
  12                         
  13  000000                                 extern   IsQueueEmpty.w
  14                         
  15                                                          ; void SetTimer3Handler(const X 
                                                                ;handler_pointer)
  16  000000                                 extern   SetTimer3Handler.w
  17                                   
  18                                                          ; void ReloadTimer3()
  19  000000                                 extern   ReloadTimer3.w
  20                         
  21                                                          ; A CheckCurrentFloorReq()
  22  000000                                 extern   CheckCurrentFloorReq.w
  23                         
  24                                                          ; A IsReached()
  25  000000                                 extern   IsReached.w
  26                         
  27                                                          ; X GetNextTarget()
  28  000000                                 extern   GetNextTarget.w
  29                         
  30                                                          ; void StopTimer3Interrupt()
  31  000000                                 extern   StopTimer3Interrupt.w
  32                         
  33                                                          ; void GoNextTarget()
  34  000000                                 extern   GoNextTarget.w
  35                         
  36                         
  37  000000                                 extern   CheckLaunch.w
  38                         
  39  000000                                 extern   IsAllReqDone.w
  40                         
  41                                                          ; extern IsTargetFloor.w
  42                         
  43                                                          ; extern PutAllTempTarget.w
  44                         
  45                                                          ; extern ClearTempTarget.w
  46                         
  47  000000                                 extern   IsNextTargetDirection.w
  48                         
  49  000000                                 extern   GetNextDirTargetPointer.w
STMicroelectronics list file postprocessor v1.01   (C)2009-2019   Wed Jun 19 15:36:22 2019
Page 14  Assembler
                                               e:\stm8s\elevator\operation.asm

  50                         
  51  000000                                 extern   CheckCurrentFloorTarget.w
  52                         
  53  000000                                 extern   GoCurrentTarget.w
  54                         
  55  000000                                 extern   GetNearFloorReq.w
  56                         
<END_OF_INCLUSION>
   4                                   segment  'rom'
   5                         
   6  008911                                 INTEL    
   7                         
   8                         
   9                         
  10                         ; ---------------------------------
  11                         ; name  : void OperationInit()
  12                         ; params: 
  13                         ;
  14                         ; return: 
  15                         ; =================================
  16                         ; void OperationInit()
  17                         ; {
  18                         ; 	...
  19                         ; }
  20                         ; ---------------------------------
  21                         .OperationInit.w  
  22  008911   8A                            push     cc
  23                                                          ; push A
  24  008912   89                            pushw    X
  25                         OperationInit_start:  
  26  008913   35010009                      mov      B_FLOOR, #1
  27  008917   3500000A                      mov      B_STATUS, #0
  28  00891B   3500000B                      mov      B_DIRECTION, #00000000B
  29                         
  30  00891F   AE0108                        ldw      X, #TARGET_QUEUE_BOTTOM
  31  008922   BF0C                          ldw      W_CUR_TARGET_PTR, X
  32  008924   BF0E                          ldw      W_NEW_PTR, X
  33                         
  34  008926   AE8950                        ldw      X, #GoIdle
  35  008929   BF10                          ldw      W_TIMER3_HANDLER, X
  36                         
  37  00892B   35000012                      mov      B_TIMER3_INT_COUNTER, #0
  38                         
  39                         OperationInit_exit:  
  40  00892F   85                            popw     X
  41                                                          ; pop A
  42  008930   86                            pop      cc 
  43  008931   81                            ret      
  44                         
  45                         
  46                         
  47                         
  48                         
  49                         
  50                         
  51                         
  52                         
  53                         
STMicroelectronics list file postprocessor v1.01   (C)2009-2019   Wed Jun 19 15:36:22 2019
Page 15  Assembler
                                               e:\stm8s\elevator\operation.asm

  54                         
  55                         
  56                         ; ---------------------------------
  57                         ; name  : void GoUp()
  58                         ; params: 
  59                         ;
  60                         ; return: 
  61                         ; =================================
  62                         ; void GoUp()
  63                         ; {
  64                         ; 	...
  65                         ; }
  66                         ; ---------------------------------
  67                         .GoUp.w   
  68  008932   8A                            push     cc
  69  008933   89                            pushw    X
  70                         GoUp_start:  
  71  008934   AE89AF                        ldw      X, #GoUp_Handler
  72  008937   CD80CD                        call     SetTimer3Handler
  73  00893A   3501000A                      mov      B_STATUS, #1
  74                         GoUp_exit:  
  75  00893E   85                            popw     X
  76  00893F   86                            pop      cc 
  77  008940   81                            ret      
  78                                   
  79                                   
  80                         
  81                         ; ---------------------------------
  82                         ; name  : void GoDown()
  83                         ; params: 
  84                         ;
  85                         ; return: 
  86                         ; =================================
  87                         ; void GoDown()
  88                         ; {
  89                         ; 	...
  90                         ; }
  91                         ; ---------------------------------
  92                         .GoDown.w  
  93  008941   8A                            push     cc
  94  008942   89                            pushw    X
  95                         GoDown_start:  
  96  008943   AE89BF                        ldw      X, #GoDown_Handler
  97  008946   CD80CD                        call     SetTimer3Handler
  98  008949   3501000A                      mov      B_STATUS, #1
  99                         GoDown_exit:  
 100  00894D   85                            popw     X
 101  00894E   86                            pop      cc 
 102  00894F   81                            ret      
 103                         
 104                         
 105                         
 106                         ; ---------------------------------
 107                         ; name  : void GoIdle()
 108                         ; params: 
 109                         ;
 110                         ; return: 
STMicroelectronics list file postprocessor v1.01   (C)2009-2019   Wed Jun 19 15:36:22 2019
Page 16  Assembler
                                               e:\stm8s\elevator\operation.asm

 111                         ; =================================
 112                         ; void GoIdle()
 113                         ; {
 114                         ; 	...
 115                         ; }
 116                         ; ---------------------------------
 117                         .GoIdle.w  
 118  008950   8A                            push     cc
 119  008951   89                            pushw    X
 120                         GoIdle_start:  
 121  008952   AE89CF                        ldw      X, #GoIdle_Handler
 122  008955   CD80CD                        call     SetTimer3Handler
 123                                                          ; call StopTimer3Interrupt
 124  008958   3500000A                      mov      B_STATUS, #0
 125                         GoIdle_exit:  
 126  00895C   85                            popw     X
 127  00895D   86                            pop      cc
 128  00895E   81                            ret      
 129                         
 130                         
 131                         
 132                         
 133                         
 134                         
 135                         
 136                         ; ---------------------------------
 137                         ; name  : void OpenDoor()
 138                         ; params: 
 139                         ;
 140                         ; return: 
 141                         ; =================================
 142                         ; void OpenDoor()
 143                         ; {
 144                         ; 	...
 145                         ; }
 146                         ; ---------------------------------
 147                         .OpenDoor.w  
 148  00895F   8A                            push     cc
 149  008960   89                            pushw    X
 150                         OpenDoor_start:  
 151  008961   AE89FD                        ldw      X, #OpenDoor_Handler
 152  008964   CD80CD                        call     SetTimer3Handler
 153  008967   3502000A                      mov      B_STATUS, #2
 154                         OpenDoor_exit:  
 155  00896B   85                            popw     X
 156  00896C   86                            pop      cc 
 157  00896D   81                            ret      
 158                         
 159                         
 160                         
 161                         ; ---------------------------------
 162                         ; name  : void CloseDoor()
 163                         ; params: 
 164                         ;
 165                         ; return: 
 166                         ; =================================
 167                         ; void CloseDoor()
STMicroelectronics list file postprocessor v1.01   (C)2009-2019   Wed Jun 19 15:36:22 2019
Page 17  Assembler
                                               e:\stm8s\elevator\operation.asm

 168                         ; {
 169                         ; 	...
 170                         ; }
 171                         ; ---------------------------------
 172                         .CloseDoor.w  
 173  00896E   8A                            push     cc
 174  00896F   89                            pushw    X
 175                         CloseDoor_start:  
 176  008970   AE8A0B                        ldw      X, #CloseDoor_Handler
 177  008973   CD80CD                        call     SetTimer3Handler
 178  008976   3503000A                      mov      B_STATUS, #3
 179                         CloseDoor_exit:  
 180  00897A   85                            popw     X
 181  00897B   86                            pop      cc 
 182  00897C   81                            ret      
 183                         
 184                         
 185                         
 186                         
 187                         
 188                         
 189                         
 190                         
 191                         ; ---------------------------------
 192                         ; name  : void ReachNextFloor_Handler()
 193                         ; params: 
 194                         ;
 195                         ; return: 
 196                         ; =================================
 197                         ; void ReachNextFloor_Handler()
 198                         ; {
 199                         ; 	...
 200                         ; }
 201                         ; ---------------------------------
 202                         ReachNextFloor_Handler.w  
 203  00897D   8A                            push     cc
 204  00897E   88                            push     A
 205  00897F   89                            pushw    X
 206                         ReachNextFloor_start:  
 207                         
 208                         ReachNextFloor_is_target:  
 209  008980   CD8829                        call     CheckCurrentFloorTarget
 210  008983   A101                          cp       A, #1
 211  008985   2709                          jreq     ReachNextFloor_reach
 212                         ReachNextFloor_check_floor:  
 213  008987   CD8805                        call     CheckCurrentFloorReq
 214  00898A   A101                          cp       A, #1
 215  00898C   2705                          jreq     ReachNextFloor_reach_req
 216  00898E   2018                          jra      ReachNextFloor_keep_going
 217                         
 218                         ReachNextFloor_reach:  
 219  008990   CD8805                        call     CheckCurrentFloorReq
 220                         ReachNextFloor_reach_req:  
 221  008993   CD868C                        call     GetNextTarget
 222  008996   A100                          cp       A, #0
 223  008998   2609                          jrne     ReachNextFloor_open_door
 224                         ReachNextFloor_clear_cur_req:  
STMicroelectronics list file postprocessor v1.01   (C)2009-2019   Wed Jun 19 15:36:22 2019
Page 18  Assembler
                                               e:\stm8s\elevator\operation.asm

 225  00899A   B609                          ld       A, B_FLOOR
 226  00899C   4A                            dec      A
 227  00899D   5F                            clrw     X
 228  00899E   97                            ld       XL, A
 229  00899F   724F0100                      clr      (FLOOR_BOTTOM,X)
 230                         ReachNextFloor_open_door:  
 231  0089A3   CD895F                        call     OpenDoor
 232  0089A6   2003                          jra      ReachNextFloor_exit
 233                         
 234                         ReachNextFloor_keep_going:  
 235  0089A8   CD8782                        call     GoCurrentTarget
 236                         
 237                         ReachNextFloor_exit:  
 238  0089AB   85                            popw     X
 239  0089AC   84                            pop      A
 240  0089AD   86                            pop      cc
 241  0089AE   81                            ret      
 242                         
 243                         
 244                         
 245                         
 246                         ; ---------------------------------
 247                         ; name  : void GoUp_Handler()
 248                         ; params: 
 249                         ;
 250                         ; return: 
 251                         ; =================================
 252                         ; void GoUp_Handler()
 253                         ; {
 254                         ; 	...
 255                         ; }
 256                         ; ---------------------------------
 257                         GoUp_Handler.w  
 258  0089AF   8A                            push     cc
 259  0089B0   88                            push     A
 260                         GoUp_Handler_start:  
 261  0089B1   B612                          ld       A, B_TIMER3_INT_COUNTER
 262  0089B3   A102                          cp       A, #2
 263  0089B5   2B05                          jrmi     GoUp_Handler_exit
 264                         
 265  0089B7   3C09                          inc      B_FLOOR
 266                         
 267  0089B9   CD897D                        call     ReachNextFloor_Handler
 268                                                          ; cp A, #False
 269                                                          ; jreq GoUp_Handler_exit
 270                         ; GoUp_Handler_keep_going:
 271                                                          ; call GoUp
 272                         
 273                         GoUp_Handler_exit:  
 274  0089BC   84                            pop      A
 275  0089BD   86                            pop      cc 
 276  0089BE   81                            ret      
 277                         
 278                         
 279                         
 280                         ; ---------------------------------
 281                         ; name  : void GoDown_Handler()
STMicroelectronics list file postprocessor v1.01   (C)2009-2019   Wed Jun 19 15:36:22 2019
Page 19  Assembler
                                               e:\stm8s\elevator\operation.asm

 282                         ; params: 
 283                         ;
 284                         ; return: 
 285                         ; =================================
 286                         ; void GoDown_Handler()
 287                         ; {
 288                         ; 	...
 289                         ; }
 290                         ; ---------------------------------
 291                         GoDown_Handler.w  
 292  0089BF   8A                            push     cc
 293  0089C0   88                            push     A
 294                         GoDown_Handler_start:  
 295  0089C1   B612                          ld       A, B_TIMER3_INT_COUNTER
 296  0089C3   A102                          cp       A, #2
 297  0089C5   2B05                          jrmi     GoDown_Handler_exit
 298                         
 299  0089C7   3A09                          dec      B_FLOOR
 300                         
 301  0089C9   CD897D                        call     ReachNextFloor_Handler
 302                                                          ; cp A, #False
 303                                                          ; jreq GoDown_Handler_exit
 304                         ; GoDown_Handler_keep_going:
 305                                                          ; call GoDown
 306                         GoDown_Handler_exit:  
 307  0089CC   84                            pop      A
 308  0089CD   86                            pop      cc 
 309  0089CE   81                            ret      
 310                         
 311                         
 312                         ; ---------------------------------
 313                         ; name  : void GoIdle_Handler()
 314                         ; params: 
 315                         ;
 316                         ; return: 
 317                         ; =================================
 318                         ; void GoIdle_Handler()
 319                         ; {
 320                         ; 	...
 321                         ; }
 322                         ; ---------------------------------
 323                         GoIdle_Handler.w  
 324  0089CF   8A                            push     cc
 325  0089D0   88                            push     A
 326  0089D1   89                            pushw    X
 327                         GoIdle_Handler_start:  
 328  0089D2   CD88B4                        call     IsAllReqDone
 329  0089D5   A101                          cp       A, #1
 330  0089D7   270C                          jreq     GoIdle_Handler_go_to_floor_1
 331                         GoIdle_Handler_check_req:  
 332  0089D9   CD88CC                        call     GetNearFloorReq
 333  0089DC   A100                          cp       A, #0
 334  0089DE   2705                          jreq     GoIdle_Handler_go_to_floor_1
 335  0089E0   5F                            clrw     X
 336  0089E1   97                            ld       XL, A
 337  0089E2   CD874D                        call     CheckLaunch
 338                                                          ; call PutNewTarget
STMicroelectronics list file postprocessor v1.01   (C)2009-2019   Wed Jun 19 15:36:22 2019
Page 20  Assembler
                                               e:\stm8s\elevator\operation.asm

 339                                   
 340                         GoIdle_Handler_go_to_floor_1:  
 341  0089E5   B612                          ld       A, B_TIMER3_INT_COUNTER
 342  0089E7   A102                          cp       A, #2
 343  0089E9   2B0E                          jrmi     GoIdle_Handler_exit
 344  0089EB   3F12                          clr      B_TIMER3_INT_COUNTER
 345                                   
 346  0089ED   3A09                          dec      B_FLOOR
 347  0089EF   2602                          jrne     GoIdle_Handler_check_floor
 348  0089F1   3C09                          inc      B_FLOOR
 349                         GoIdle_Handler_check_floor:  
 350  0089F3   B609                          ld       A, B_FLOOR
 351                                                          ; compare with floor 1
 352  0089F5   A101                          cp       A, #1
 353  0089F7   2600                          jrne     GoIdle_Handler_go_down
 354                         GoIdle_Handler_stop_timer:  
 355                                                          ; call StopTimer3Interrupt
 356                                                          ; jra GoIdle_Handler_exit
 357                         GoIdle_Handler_go_down:  
 358                                   
 359                         
 360                         GoIdle_Handler_exit:  
 361  0089F9   85                            popw     X
 362  0089FA   84                            pop      A
 363  0089FB   86                            pop      cc 
 364  0089FC   81                            ret      
 365                         
 366                         
 367                         
 368                         
 369                         
 370                         ; ---------------------------------
 371                         ; name  : void OpenDoor_Handler()
 372                         ; params: 
 373                         ;
 374                         ; return: 
 375                         ; =================================
 376                         ; void OpenDoor_Handler()
 377                         ; {
 378                         ; 	...
 379                         ; }
 380                         ; ---------------------------------
 381                         OpenDoor_Handler.w  
 382  0089FD   8A                            push     cc
 383  0089FE   88                            push     A
 384                         OpenDoor_Handler_start:  
 385  0089FF   B612                          ld       A, B_TIMER3_INT_COUNTER
 386  008A01   A10A                          cp       A, #10
 387  008A03   2B03                          jrmi     OpenDoor_Handler_exit
 388                         
 389  008A05   CD896E                        call     CloseDoor
 390                         OpenDoor_Handler_exit:  
 391  008A08   84                            pop      A
 392  008A09   86                            pop      cc 
 393  008A0A   81                            ret      
 394                         
 395                         
STMicroelectronics list file postprocessor v1.01   (C)2009-2019   Wed Jun 19 15:36:22 2019
Page 21  Assembler
                                               e:\stm8s\elevator\operation.asm

 396                         ; ---------------------------------
 397                         ; name  : void CloseDoor_Handler()
 398                         ; params: 
 399                         ;
 400                         ; return: 
 401                         ; =================================
 402                         ; void CloseDoor_Handler()
 403                         ; {
 404                         ; 	...
 405                         ; }
 406                         ; ---------------------------------
 407                         CloseDoor_Handler.w  
 408  008A0B   8A                            push     cc
 409  008A0C   88                            push     A
 410  008A0D   89                            pushw    X
 411  008A0E   9089                          pushw    Y
 412                         CloseDoor_Handler_start:  
 413                         
 414                         CloseDoor_Handler_if_reach_cur:  
 415  008A10   CD88A4                        call     IsReached
 416  008A13   A101                          cp       A, #1
 417  008A15   2629                          jrne     CloseDoor_Handler_keep_moving
 418                         CloseDoor_Handler_check_if_dir  :        
 419  008A17   CD8848                        call     IsNextTargetDirection
 420  008A1A   A101                          cp       A, #1
 421  008A1C   2716                          jreq     CloseDoor_Handler_same_directi  
 422                         CloseDoor_Handler_diff_directi  :        
 423  008A1E   CD886D                        call     GetNextDirTargetPointer
 424  008A21   A30000                        cpw      X, #0
 425  008A24   270E                          jreq     CloseDoor_Handler_no_more_same
 426                                                          ; make it be current target
 427  008A26   9093                          ldw      Y, X
 428  008A28   90FE                          ldw      Y, (Y)
 429  008A2A   90BF0C                        ldw      W_CUR_TARGET_PTR, Y
 430                                                          ; clear it 
 431  008A2D   AE0000                        ldw      X, #0
 432  008A30   90FF                          ldw      (Y), X
 433  008A32   200C                          jra      CloseDoor_Handler_keep_moving
 434                         CloseDoor_Handler_no_more_same:  
 435                         CloseDoor_Handler_same_directi  :        
 436  008A34   CD868C                        call     GetNextTarget
 437  008A37   A100                          cp       A, #0
 438  008A39   270A                          jreq     CloseDoor_go_idle
 439  008A3B   CD87C9                        call     GoNextTarget
 440  008A3E   2000                          jra      CloseDoor_Handler_keep_moving
 441                         
 442                         CloseDoor_Handler_keep_moving:  
 443  008A40   CD8782                        call     GoCurrentTarget
 444                         
 445  008A43   2006                          jra      CloseDoor_Handler_exit
 446                         
 447                         ; CloseDoor_go_idle_determine:
 448                         ; 	call IsAllReqDone
 449                         ; 	cp A, #True
 450                         ; 	jreq CloseDoor_go_idle
 451                         ; 	call GetNearFloorReq
 452                         ; 	cp A, #INVALID_TARGET
STMicroelectronics list file postprocessor v1.01   (C)2009-2019   Wed Jun 19 15:36:22 2019
Page 22  Assembler
                                               e:\stm8s\elevator\operation.asm

 453                         ; 	jreq CloseDoor_go_idle
 454                         ; 	clrw X
 455                         ; 	ld XL, A
 456                         ; 	call GoCurrentTarget
 457                                   
 458                                                          ; jra CloseDoor_Handler_exit
 459                         CloseDoor_go_idle:  
 460  008A45   CD8950                        call     GoIdle
 461  008A48   CD87C9                        call     GoNextTarget
 462                         
 463                         CloseDoor_Handler_exit:  
 464  008A4B   9085                          popw     Y
 465  008A4D   85                            popw     X
 466  008A4E   84                            pop      A
 467  008A4F   86                            pop      cc 
 468  008A50   81                            ret      
 469                         
 470                         
 471                         
 472                         
 473                         
 474                         
 475                         
 476                         
 477                         
 478                         
 479                         
 480                         
 481                         
 482                         
 483                         
 484                         
 485                         
 486                         
 487  008A51                                 end      
STMicroelectronics list file postprocessor v1.01   (C)2009-2019   Wed Jun 19 15:36:22 2019
Page 23  Assembler
                                               e:\stm8s\elevator\operation.asm

Symbol Name                       Value     Call       Type  Scope      Rel.  Line  Privacy  Segment   Size  Bytes File

AWU_CSR                               50F0         no  WORD  Internal   ABS    170  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
AWU_APR                               50F1         no  WORD  Internal   ABS    172  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
AWU_TBR                               50F2         no  WORD  Internal   ABS    174  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB0RH                             53E0         no  WORD  Internal   ABS    427  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB0RL                             53E1         no  WORD  Internal   ABS    429  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB1RH                             53E2         no  WORD  Internal   ABS    431  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB1RL                             53E3         no  WORD  Internal   ABS    433  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB2RH                             53E4         no  WORD  Internal   ABS    435  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB2RL                             53E5         no  WORD  Internal   ABS    437  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB3RH                             53E6         no  WORD  Internal   ABS    439  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB3RL                             53E7         no  WORD  Internal   ABS    441  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB4RH                             53E8         no  WORD  Internal   ABS    443  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB4RL                             53E9         no  WORD  Internal   ABS    445  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB5RH                             53EA         no  WORD  Internal   ABS    447  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB5RL                             53EB         no  WORD  Internal   ABS    449  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB6RH                             53EC         no  WORD  Internal   ABS    451  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB6RL                             53ED         no  WORD  Internal   ABS    453  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB7RH                             53EE         no  WORD  Internal   ABS    455  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB7RL                             53EF         no  WORD  Internal   ABS    457  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB8RH                             53F0         no  WORD  Internal   ABS    459  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB8RL                             53F1         no  WORD  Internal   ABS    461  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB9RH                             53F2         no  WORD  Internal   ABS    463  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB9RL                             53F3         no  WORD  Internal   ABS    465  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_CSR                               5400         no  WORD  Internal   ABS    467  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_CR1                               5401         no  WORD  Internal   ABS    469  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_CR2                               5402         no  WORD  Internal   ABS    471  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_CR3                               5403         no  WORD  Internal   ABS    473  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DRH                               5404         no  WORD  Internal   ABS    475  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DRL                               5405         no  WORD  Internal   ABS    477  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_TDRH                              5406         no  WORD  Internal   ABS    479  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_TDRL                              5407         no  WORD  Internal   ABS    481  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_HTRH                              5408         no  WORD  Internal   ABS    483  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_HTRL                              5409         no  WORD  Internal   ABS    485  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_LTRH                              540A         no  WORD  Internal   ABS    487  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_LTRL                              540B         no  WORD  Internal   ABS    489  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_AWSRH                             540C         no  WORD  Internal   ABS    491  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_AWSRL                             540D         no  WORD  Internal   ABS    493  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_AWCRH                             540E         no  WORD  Internal   ABS    495  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_AWCRL                             540F         no  WORD  Internal   ABS    497  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc

BEEP_CSR                              50F3         no  WORD  Internal   ABS    179  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
B_FLOOR                                 09         no  BYTE  Internal   ABS     44  private  text         0     0  e:\stm8s\elevator\variable.inc
B_STATUS                                0A         no  BYTE  Internal   ABS     45  private  text         0     0  e:\stm8s\elevator\variable.inc
B_DIRECTION                             0B         no  BYTE  Internal   ABS     46  private  text         0     0  e:\stm8s\elevator\variable.inc
B_TIMER3_INT_COUNTER                    12         no  BYTE  Internal   ABS     63  private  text         0     0  e:\stm8s\elevator\variable.inc

CLK_ICKR                              50C0         no  WORD  Internal   ABS    125  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
CLK_ECKR                              50C1         no  WORD  Internal   ABS    127  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
CLK_CMSR                              50C3         no  WORD  Internal   ABS    129  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
CLK_SWR                               50C4         no  WORD  Internal   ABS    131  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
CLK_SWCR                              50C5         no  WORD  Internal   ABS    133  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
CLK_CKDIVR                            50C6         no  WORD  Internal   ABS    135  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
CLK_PCKENR1                           50C7         no  WORD  Internal   ABS    137  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
CLK_CSSR                              50C8         no  WORD  Internal   ABS    139  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
CLK_CCOR                              50C9         no  WORD  Internal   ABS    141  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
STMicroelectronics list file postprocessor v1.01   (C)2009-2019   Wed Jun 19 15:36:22 2019
Page 24  Assembler
                                               e:\stm8s\elevator\operation.asm

CLK_PCKENR2                           50CA         no  WORD  Internal   ABS    143  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
CLK_CANCCR                            50CB         no  WORD  Internal   ABS    145  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
CLK_HSITRIMR                          50CC         no  WORD  Internal   ABS    147  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
CLK_SWIMCCR                           50CD         no  WORD  Internal   ABS    149  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
CFG_GCR                               7F60         no  WORD  Internal   ABS    502  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
CheckCurrentFloorReq                  8805         no  WORD  Internal   ABS     22  private  text         0     0  e:\stm8s\elevator\operation.inc
CheckLaunch                           874D         no  WORD  Internal   ABS     37  private  text         0     0  e:\stm8s\elevator\operation.inc
CheckCurrentFloorTarget               8829         no  WORD  Internal   ABS     51  private  text         0     0  e:\stm8s\elevator\operation.inc
CloseDoor                             896E         no  WORD  Internal   ABS    172  public   text         2     0  -
CloseDoor_start                       8970         no  WORD  Internal   ABS    175  private  text        10     0  -
CloseDoor_exit                        897A         no  WORD  Internal   ABS    179  private  text         3     0  -
CloseDoor_Handler                     8A0B         no  WORD  Internal   ABS    407  private  text         5     0  -
CloseDoor_Handler_start               8A10         no  WORD  Internal   ABS    412  private  text         7     0  -
CloseDoor_Handler_if_reach_cur        8A10         no  WORD  Internal   ABS    414  private  text         7     0  -
CloseDoor_Handler_check_if_dir        8A17         no  WORD  Internal   ABS    418  private  text         7     0  -
CloseDoor_Handler_diff_directi        8A1E         no  WORD  Internal   ABS    422  private  text        22     0  -
CloseDoor_Handler_no_more_same        8A34         no  WORD  Internal   ABS    434  private  text        12     0  -
CloseDoor_Handler_same_directi        8A34         no  WORD  Internal   ABS    435  private  text        12     0  -
CloseDoor_Handler_keep_moving         8A40         no  WORD  Internal   ABS    442  private  text         5     0  -
CloseDoor_go_idle                     8A45         no  WORD  Internal   ABS    459  private  text         6     0  -
CloseDoor_Handler_exit                8A4B         no  WORD  Internal   ABS    463  private  text         6     0  -

EXTI_CR1                              50A0         no  WORD  Internal   ABS    113  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
EXTI_CR2                              50A1         no  WORD  Internal   ABS    115  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc

FLASH_CR1                             505A         no  WORD  Internal   ABS     94  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
FLASH_CR2                             505B         no  WORD  Internal   ABS     96  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
FLASH_NCR2                            505C         no  WORD  Internal   ABS     98  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
FLASH_FPR                             505D         no  WORD  Internal   ABS    100  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
FLASH_NFPR                            505E         no  WORD  Internal   ABS    102  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
FLASH_IAPSR                           505F         no  WORD  Internal   ABS    104  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
FLASH_PUKR                            5062         no  WORD  Internal   ABS    106  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
FLASH_DUKR                            5064         no  WORD  Internal   ABS    108  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
FLOOR_TOP                             0108         no  WORD  Internal   ABS     51  private  text         0     0  e:\stm8s\elevator\variable.inc
FLOOR_BOTTOM                          0100         no  WORD  Internal   ABS     52  private  text         0     0  e:\stm8s\elevator\variable.inc

GetNextTarget                         868C         no  WORD  Internal   ABS     28  private  text         0     0  e:\stm8s\elevator\operation.inc
GoNextTarget                          87C9         no  WORD  Internal   ABS     34  private  text         0     0  e:\stm8s\elevator\operation.inc
GetNextDirTargetPointer               886D         no  WORD  Internal   ABS     49  private  text         0     0  e:\stm8s\elevator\operation.inc
GoCurrentTarget                       8782         no  WORD  Internal   ABS     53  private  text         0     0  e:\stm8s\elevator\operation.inc
GetNearFloorReq                       88CC         no  WORD  Internal   ABS     55  private  text         0     0  e:\stm8s\elevator\operation.inc
GoUp                                  8932         no  WORD  Internal   ABS     67  public   text         2     0  -
GoUp_start                            8934         no  WORD  Internal   ABS     70  private  text        10     0  -
GoUp_exit                             893E         no  WORD  Internal   ABS     74  private  text         3     0  -
GoDown                                8941         no  WORD  Internal   ABS     92  public   text         2     0  -
GoDown_start                          8943         no  WORD  Internal   ABS     95  private  text        10     0  -
GoDown_exit                           894D         no  WORD  Internal   ABS     99  private  text         3     0  -
GoIdle                                8950         no  WORD  Internal   ABS    117  public   text         2     0  -
GoIdle_start                          8952         no  WORD  Internal   ABS    120  private  text        10     0  -
GoIdle_exit                           895C         no  WORD  Internal   ABS    125  private  text         3     0  -
GoUp_Handler                          89AF         no  WORD  Internal   ABS    257  private  text         2     0  -
GoUp_Handler_start                    89B1         no  WORD  Internal   ABS    260  private  text        11     0  -
GoUp_Handler_exit                     89BC         no  WORD  Internal   ABS    273  private  text         3     0  -
GoDown_Handler                        89BF         no  WORD  Internal   ABS    291  private  text         2     0  -
GoDown_Handler_start                  89C1         no  WORD  Internal   ABS    294  private  text        11     0  -
GoDown_Handler_exit                   89CC         no  WORD  Internal   ABS    306  private  text         3     0  -
GoIdle_Handler                        89CF         no  WORD  Internal   ABS    323  private  text         3     0  -
STMicroelectronics list file postprocessor v1.01   (C)2009-2019   Wed Jun 19 15:36:22 2019
Page 25  Assembler
                                               e:\stm8s\elevator\operation.asm

GoIdle_Handler_start                  89D2         no  WORD  Internal   ABS    327  private  text         7     0  -
GoIdle_Handler_check_req              89D9         no  WORD  Internal   ABS    331  private  text        12     0  -
GoIdle_Handler_go_to_floor_1          89E5         no  WORD  Internal   ABS    340  private  text        14     0  -
GoIdle_Handler_check_floor            89F3         no  WORD  Internal   ABS    349  private  text         6     0  -
GoIdle_Handler_stop_timer             89F9         no  WORD  Internal   ABS    354  private  text         4     0  -
GoIdle_Handler_go_down                89F9         no  WORD  Internal   ABS    357  private  text         4     0  -
GoIdle_Handler_exit                   89F9         no  WORD  Internal   ABS    360  private  text         4     0  -

IWDG_KR                               50E0         no  WORD  Internal   ABS    161  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
IWDG_PR                               50E1         no  WORD  Internal   ABS    163  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
IWDG_RLR                              50E2         no  WORD  Internal   ABS    165  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
I2C_CR1                               5210         no  WORD  Internal   ABS    203  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
I2C_CR2                               5211         no  WORD  Internal   ABS    205  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
I2C_FREQR                             5212         no  WORD  Internal   ABS    207  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
I2C_OARL                              5213         no  WORD  Internal   ABS    209  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
I2C_OARH                              5214         no  WORD  Internal   ABS    211  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
I2C_DR                                5216         no  WORD  Internal   ABS    213  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
I2C_SR1                               5217         no  WORD  Internal   ABS    215  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
I2C_SR2                               5218         no  WORD  Internal   ABS    217  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
I2C_SR3                               5219         no  WORD  Internal   ABS    219  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
I2C_ITR                               521A         no  WORD  Internal   ABS    221  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
I2C_CCRL                              521B         no  WORD  Internal   ABS    223  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
I2C_CCRH                              521C         no  WORD  Internal   ABS    225  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
I2C_TRISER                            521D         no  WORD  Internal   ABS    227  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
I2C_PECR                              521E         no  WORD  Internal   ABS    229  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ITC_SPR1                              7F70         no  WORD  Internal   ABS    507  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ITC_SPR2                              7F71         no  WORD  Internal   ABS    509  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ITC_SPR3                              7F72         no  WORD  Internal   ABS    511  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ITC_SPR4                              7F73         no  WORD  Internal   ABS    513  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ITC_SPR5                              7F74         no  WORD  Internal   ABS    515  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ITC_SPR6                              7F75         no  WORD  Internal   ABS    517  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ITC_SPR7                              7F76         no  WORD  Internal   ABS    519  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
IsQueueEmpty                          86F1         no  WORD  Internal   ABS     13  private  text         0     0  e:\stm8s\elevator\operation.inc
IsReached                             88A4         no  WORD  Internal   ABS     25  private  text         0     0  e:\stm8s\elevator\operation.inc
IsAllReqDone                          88B4         no  WORD  Internal   ABS     39  private  text         0     0  e:\stm8s\elevator\operation.inc
IsNextTargetDirection                 8848         no  WORD  Internal   ABS     47  private  text         0     0  e:\stm8s\elevator\operation.inc

OperationInit                         8911         no  WORD  Internal   ABS     21  public   text         2     0  -
OperationInit_start                   8913         no  WORD  Internal   ABS     25  private  text        28     0  -
OperationInit_exit                    892F         no  WORD  Internal   ABS     39  private  text         3     0  -
OpenDoor                              895F         no  WORD  Internal   ABS    147  public   text         2     0  -
OpenDoor_start                        8961         no  WORD  Internal   ABS    150  private  text        10     0  -
OpenDoor_exit                         896B         no  WORD  Internal   ABS    154  private  text         3     0  -
OpenDoor_Handler                      89FD         no  WORD  Internal   ABS    381  private  text         2     0  -
OpenDoor_Handler_start                89FF         no  WORD  Internal   ABS    384  private  text         9     0  -
OpenDoor_Handler_exit                 8A08         no  WORD  Internal   ABS    390  private  text         3     0  -

PA_ODR                                5000         no  WORD  Internal   ABS     16  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PA_IDR                                5001         no  WORD  Internal   ABS     18  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PA_DDR                                5002         no  WORD  Internal   ABS     20  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PA_CR1                                5003         no  WORD  Internal   ABS     22  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PA_CR2                                5004         no  WORD  Internal   ABS     24  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PB_ODR                                5005         no  WORD  Internal   ABS     29  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PB_IDR                                5006         no  WORD  Internal   ABS     31  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PB_DDR                                5007         no  WORD  Internal   ABS     33  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PB_CR1                                5008         no  WORD  Internal   ABS     35  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PB_CR2                                5009         no  WORD  Internal   ABS     37  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
STMicroelectronics list file postprocessor v1.01   (C)2009-2019   Wed Jun 19 15:36:22 2019
Page 26  Assembler
                                               e:\stm8s\elevator\operation.asm

PC_ODR                                500A         no  WORD  Internal   ABS     42  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PC_IDR                                500B         no  WORD  Internal   ABS     44  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PC_DDR                                500C         no  WORD  Internal   ABS     46  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PC_CR1                                500D         no  WORD  Internal   ABS     48  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PC_CR2                                500E         no  WORD  Internal   ABS     50  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PD_ODR                                500F         no  WORD  Internal   ABS     55  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PD_IDR                                5010         no  WORD  Internal   ABS     57  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PD_DDR                                5011         no  WORD  Internal   ABS     59  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PD_CR1                                5012         no  WORD  Internal   ABS     61  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PD_CR2                                5013         no  WORD  Internal   ABS     63  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PE_ODR                                5014         no  WORD  Internal   ABS     68  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PE_IDR                                5015         no  WORD  Internal   ABS     70  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PE_DDR                                5016         no  WORD  Internal   ABS     72  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PE_CR1                                5017         no  WORD  Internal   ABS     74  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PE_CR2                                5018         no  WORD  Internal   ABS     76  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PF_ODR                                5019         no  WORD  Internal   ABS     81  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PF_IDR                                501A         no  WORD  Internal   ABS     83  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PF_DDR                                501B         no  WORD  Internal   ABS     85  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PF_CR1                                501C         no  WORD  Internal   ABS     87  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PF_CR2                                501D         no  WORD  Internal   ABS     89  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc

RST_SR                                50B3         no  WORD  Internal   ABS    120  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ReloadTimer3                          80DD         no  WORD  Internal   ABS     19  private  text         0     0  e:\stm8s\elevator\operation.inc
ReachNextFloor_Handler                897D         no  WORD  Internal   ABS    202  private  text         3     0  -
ReachNextFloor_start                  8980         no  WORD  Internal   ABS    206  private  text         7     0  -
ReachNextFloor_is_target              8980         no  WORD  Internal   ABS    208  private  text         7     0  -
ReachNextFloor_check_floor            8987         no  WORD  Internal   ABS    212  private  text         9     0  -
ReachNextFloor_reach                  8990         no  WORD  Internal   ABS    218  private  text         3     0  -
ReachNextFloor_reach_req              8993         no  WORD  Internal   ABS    220  private  text         7     0  -
ReachNextFloor_clear_cur_req          899A         no  WORD  Internal   ABS    224  private  text         9     0  -
ReachNextFloor_open_door              89A3         no  WORD  Internal   ABS    230  private  text         5     0  -
ReachNextFloor_keep_going             89A8         no  WORD  Internal   ABS    234  private  text         3     0  -
ReachNextFloor_exit                   89AB         no  WORD  Internal   ABS    237  private  text         4     0  -

SPI_CR1                               5200         no  WORD  Internal   ABS    184  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
SPI_CR2                               5201         no  WORD  Internal   ABS    186  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
SPI_ICR                               5202         no  WORD  Internal   ABS    188  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
SPI_SR                                5203         no  WORD  Internal   ABS    190  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
SPI_DR                                5204         no  WORD  Internal   ABS    192  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
SPI_CRCPR                             5205         no  WORD  Internal   ABS    194  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
SPI_RXCRCR                            5206         no  WORD  Internal   ABS    196  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
SPI_TXCRCR                            5207         no  WORD  Internal   ABS    198  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
SetTimer3Handler                      80CD         no  WORD  Internal   ABS     16  private  text         0     0  e:\stm8s\elevator\operation.inc
StopTimer3Interrupt                   80C6         no  WORD  Internal   ABS     31  private  text         0     0  e:\stm8s\elevator\operation.inc

TIM1_CR1                              5250         no  WORD  Internal   ABS    261  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CR2                              5251         no  WORD  Internal   ABS    263  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_SMCR                             5252         no  WORD  Internal   ABS    265  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_ETR                              5253         no  WORD  Internal   ABS    267  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_IER                              5254         no  WORD  Internal   ABS    269  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_SR1                              5255         no  WORD  Internal   ABS    271  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_SR2                              5256         no  WORD  Internal   ABS    273  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_EGR                              5257         no  WORD  Internal   ABS    275  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CCMR1                            5258         no  WORD  Internal   ABS    277  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CCMR2                            5259         no  WORD  Internal   ABS    279  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CCMR3                            525A         no  WORD  Internal   ABS    281  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CCMR4                            525B         no  WORD  Internal   ABS    283  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
STMicroelectronics list file postprocessor v1.01   (C)2009-2019   Wed Jun 19 15:36:22 2019
Page 27  Assembler
                                               e:\stm8s\elevator\operation.asm

TIM1_CCER1                            525C         no  WORD  Internal   ABS    285  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CCER2                            525D         no  WORD  Internal   ABS    287  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CNTRH                            525E         no  WORD  Internal   ABS    289  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CNTRL                            525F         no  WORD  Internal   ABS    291  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_PSCRH                            5260         no  WORD  Internal   ABS    293  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_PSCRL                            5261         no  WORD  Internal   ABS    295  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_ARRH                             5262         no  WORD  Internal   ABS    297  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_ARRL                             5263         no  WORD  Internal   ABS    299  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_RCR                              5264         no  WORD  Internal   ABS    301  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CCR1H                            5265         no  WORD  Internal   ABS    303  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CCR1L                            5266         no  WORD  Internal   ABS    305  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CCR2H                            5267         no  WORD  Internal   ABS    307  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CCR2L                            5268         no  WORD  Internal   ABS    309  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CCR3H                            5269         no  WORD  Internal   ABS    311  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CCR3L                            526A         no  WORD  Internal   ABS    313  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CCR4H                            526B         no  WORD  Internal   ABS    315  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CCR4L                            526C         no  WORD  Internal   ABS    317  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_BKR                              526D         no  WORD  Internal   ABS    319  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_DTR                              526E         no  WORD  Internal   ABS    321  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_OISR                             526F         no  WORD  Internal   ABS    323  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_CR1                              5300         no  WORD  Internal   ABS    328  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_IER                              5301         no  WORD  Internal   ABS    330  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_SR1                              5302         no  WORD  Internal   ABS    332  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_SR2                              5303         no  WORD  Internal   ABS    334  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_EGR                              5304         no  WORD  Internal   ABS    336  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_CCMR1                            5305         no  WORD  Internal   ABS    338  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_CCMR2                            5306         no  WORD  Internal   ABS    340  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_CCMR3                            5307         no  WORD  Internal   ABS    342  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_CCER1                            5308         no  WORD  Internal   ABS    344  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_CCER2                            5309         no  WORD  Internal   ABS    346  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_CNTRH                            530A         no  WORD  Internal   ABS    348  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_CNTRL                            530B         no  WORD  Internal   ABS    350  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_PSCR                             530C         no  WORD  Internal   ABS    352  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_ARRH                             530D         no  WORD  Internal   ABS    354  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_ARRL                             530E         no  WORD  Internal   ABS    356  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_CCR1H                            530F         no  WORD  Internal   ABS    358  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_CCR1L                            5310         no  WORD  Internal   ABS    360  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_CCR2H                            5311         no  WORD  Internal   ABS    362  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_CCR2L                            5312         no  WORD  Internal   ABS    364  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_CCR3H                            5313         no  WORD  Internal   ABS    366  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_CCR3L                            5314         no  WORD  Internal   ABS    368  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_CR1                              5320         no  WORD  Internal   ABS    373  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_IER                              5321         no  WORD  Internal   ABS    375  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_SR1                              5322         no  WORD  Internal   ABS    377  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_SR2                              5323         no  WORD  Internal   ABS    379  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_EGR                              5324         no  WORD  Internal   ABS    381  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_CCMR1                            5325         no  WORD  Internal   ABS    383  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_CCMR2                            5326         no  WORD  Internal   ABS    385  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_CCER1                            5327         no  WORD  Internal   ABS    387  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_CNTRH                            5328         no  WORD  Internal   ABS    389  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_CNTRL                            5329         no  WORD  Internal   ABS    391  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_PSCR                             532A         no  WORD  Internal   ABS    393  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_ARRH                             532B         no  WORD  Internal   ABS    395  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_ARRL                             532C         no  WORD  Internal   ABS    397  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_CCR1H                            532D         no  WORD  Internal   ABS    399  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_CCR1L                            532E         no  WORD  Internal   ABS    401  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_CCR2H                            532F         no  WORD  Internal   ABS    403  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
STMicroelectronics list file postprocessor v1.01   (C)2009-2019   Wed Jun 19 15:36:22 2019
Page 28  Assembler
                                               e:\stm8s\elevator\operation.asm

TIM3_CCR2L                            5330         no  WORD  Internal   ABS    405  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM4_CR1                              5340         no  WORD  Internal   ABS    410  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM4_IER                              5341         no  WORD  Internal   ABS    412  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM4_SR                               5342         no  WORD  Internal   ABS    414  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM4_EGR                              5343         no  WORD  Internal   ABS    416  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM4_CNTR                             5344         no  WORD  Internal   ABS    418  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM4_PSCR                             5345         no  WORD  Internal   ABS    420  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM4_ARR                              5346         no  WORD  Internal   ABS    422  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TARGET_QUEUE_BOTTOM                   0108         no  WORD  Internal   ABS     54  private  text         0     0  e:\stm8s\elevator\variable.inc
TEMP_TARGET_FLOOR_BUTTOM                13         no  BYTE  Internal   ABS     57  private  text         0     0  e:\stm8s\elevator\variable.inc
TEMP_TARGET_FLOOR_TOP                   1B         no  BYTE  Internal   ABS     58  private  text         0     0  e:\stm8s\elevator\variable.inc

UART2_SR                              5240         no  WORD  Internal   ABS    234  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
UART2_DR                              5241         no  WORD  Internal   ABS    236  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
UART2_BRR1                            5242         no  WORD  Internal   ABS    238  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
UART2_BRR2                            5243         no  WORD  Internal   ABS    240  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
UART2_CR1                             5244         no  WORD  Internal   ABS    242  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
UART2_CR2                             5245         no  WORD  Internal   ABS    244  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
UART2_CR3                             5246         no  WORD  Internal   ABS    246  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
UART2_CR4                             5247         no  WORD  Internal   ABS    248  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
UART2_CR5                             5248         no  WORD  Internal   ABS    250  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
UART2_CR6                             5249         no  WORD  Internal   ABS    252  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
UART2_GTR                             524A         no  WORD  Internal   ABS    254  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
UART2_PSCR                            524B         no  WORD  Internal   ABS    256  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc

WWDG_CR                               50D1         no  WORD  Internal   ABS    154  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
WWDG_WR                               50D2         no  WORD  Internal   ABS    156  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
W_CUR_TARGET_PTR                        0C         no  BYTE  Internal   ABS     48  private  text         0     0  e:\stm8s\elevator\variable.inc
W_NEW_PTR                               0E         no  BYTE  Internal   ABS     49  private  text         0     0  e:\stm8s\elevator\variable.inc
W_TIMER3_HANDLER                        10         no  BYTE  Internal   ABS     62  private  text         0     0  e:\stm8s\elevator\variable.inc


300 labels
No errors on assembly of 'e:\stm8s\elevator\operation.asm'